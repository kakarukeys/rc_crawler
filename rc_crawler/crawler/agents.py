from typing import Tuple, Optional
from itertools import cycle
import random


USER_AGENTS = {
    "desktop": (
        "Mozilla/5.0 (compatible, MSIE 11, Windows NT 6.3; Trident/7.0;  rv:11.0) like Gecko",
        "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)",
        "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 7.0; InfoPath.3; .NET CLR 3.1.40767; Trident/6.0; en-IN)",
        "Mozilla/5.0 (compatible; MSIE 10.6; Windows NT 6.1; Trident/5.0; InfoPath.2; SLCC1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 2.0.50727) 3gpp-gba UNTRUSTED/1.0",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:54.0) Gecko/20100101 Firefox/54.0",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:40.0) Gecko/20100101 Firefox/40.0"
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/601.3.9 (KHTML, like Gecko) Version/9.0.2 Safari/601.3.9",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/603.3.8 (KHTML, like Gecko) Version/10.1.2 Safari/603.3.8",
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.246",
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36",
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36",
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36",
        "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36 OPR/43.0.2442.991",
        "Mozilla/5.0 (Windows NT 6.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 Safari/537.36 OPR/47.0.2631.39",
        "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36",
        "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36",
        "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.71 Safari/537.36",
        "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36",
        "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36",
        "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1",
        "Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; AS; rv:11.0) like Gecko",
        "Mozilla/5.0 (X11; CrOS x86_64 8172.45.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.64 Safari/537.36",
        "Mozilla/5.0 (X11; Linux x86_64; rv:55.0) Gecko/20100101 Firefox/55.0",
    ),
    "tablet": (
        "Mozilla/5.0 (Linux; Android 4.4.3; KFTHWI Build/KTU84M) AppleWebKit/537.36 (KHTML, like Gecko) Silk/47.1.79 like Chrome/47.0.2526.80 Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.0.2; LG-V410/V41020c Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/34.0.1847.118 Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.0.2; SAMSUNG SM-T550 Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/3.3 Chrome/38.0.2125.102 Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.1.1; SHIELD Tablet Build/LMY48C) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0.1; SGP771 Build/32.2.A.0.253; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36",
        "Mozilla/5.0 (Linux; Android 7.0; Pixel C Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36",
        "Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; GT-P5210 Build/KOT49H) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Safari/534.30",
    ),
    "mobile": (
        "Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1",
        "Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.40 (KHTML, like Gecko) Version/10.0 Mobile/14A5309d Safari/602.1",
        "Mozilla/5.0 (iPhone; CPU iPhone OS 10_0_1 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) Mobile/14A403",
        "Mozilla/5.0 (iPhone; CPU iPhone OS 10_1_1 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/54.0.2840.91 Mobile/14B100 Safari/602.1",
        "Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/58.0.3029.83 Mobile/14D27 Safari/602.1",
        "Mozilla/5.0 (iPhone; CPU iPhone OS 8_0_2 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) Version/8.0 Mobile/12A405 Safari/600.1.4",
        "Mozilla/5.0 (Linux; Android 5.0.1; SAMSUNG SM-N910V 4G Build/LRX22C) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/2.1 Chrome/34.0.1847.76 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.0.2; Mi 4i Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.125 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.0; SAMSUNG SM-N900P Build/LRX21V) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/2.1 Chrome/34.0.1847.76 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.1.1; Nexus 5 Build/LMY48B; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/43.0.2357.65 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.1.1; SAMSUNG SM-G360T1 Build/LMY47X) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/3.3 Chrome/38.0.2125.102 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 5.1.1; SM-G928X Build/LMY47X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.83 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0.1; E6653 Build/32.2.A.0.253) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0.1; Nexus 6P Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.83 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0.1; SAMSUNG SM-N920V 4G Build/MMB29K) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/4.0 Chrome/44.0.2403.133 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0.1; SAMSUNG-SM-J120AZ Build/MMB29K) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/4.0 Chrome/44.0.2403.133 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0.1; SM-G920V Build/MMB29K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 6.0; HTC One M9 Build/MRA58K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 7.0; SM-G930F Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.125 Mobile Safari/537.36",
        "Mozilla/5.0 (Linux; Android 7.0; SM-G935F Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.125 Mobile Safari/537.36",
        "Mozilla/5.0 (Mobile; Windows Phone 8.1; Android 4.0; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 630) like iPhone OS 7_0_3 Mac OS X AppleWebKit/537 (KHTML, like Gecko) Mobile Safari/537",
        "Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/13.10586",
    ),
}

PROXIES = cycle([
    None,
    "http://101.78.219.178:8080",
    "http://103.10.228.61:8080",
    "http://103.1.210.107:3128",
    "http://103.1.94.144:8080",
    "http://103.206.170.139:8080",
    "http://103.227.117.211:8080",
    "http://103.244.185.214:8080",
    "http://103.245.206.121:8080",
    "http://103.228.246.36:8080",
    "http://103.41.245.9:8080",
    "http://103.39.49.10:3128",
    "http://103.94.66.125:53281",
    "http://103.85.163.94:8080",
    "http://103.78.75.50:80",
    "http://104.131.191.119:3128",
    "http://106.51.252.225:8080",
    "http://108.61.171.54:3128",
    "http://107.23.96.187:80",
    "http://109.61.14.83:53281",
    "http://109.196.34.51:8080",
    "http://110.44.113.105:8080",
    "http://110.77.203.89:8080",
    "http://110.77.177.172:53005",
    "http://115.124.70.46:8080",
    "http://115.127.75.18:8080",
    "http://116.197.131.116:88",
    "http://114.7.4.158:8080",
    "http://117.6.10.100:8080",
    "http://117.20.54.20:80",
    "http://117.6.161.118:53281",
    "http://117.54.141.19:3128",
    "http://119.81.197.124:3128",
    "http://119.28.46.76:8080",
    "http://118.193.142.61:3128",
    "http://119.17.216.8:3128",
    "http://118.69.134.103:65103",
    "http://122.52.127.96:8080",
    "http://124.232.148.7:3128",
    "http://122.2.2.130:53281",
    "http://124.122.152.92:80",
    "http://124.124.1.178:3128",
    "http://125.163.147.61:8080",
    "http://128.199.190.130:8080",
    "http://125.164.29.130:8080",
    "http://128.199.192.252:80",
    "http://128.199.219.154:8080",
    "http://131.196.13.6:65103",
    "http://138.197.192.64:65000",
    "http://138.201.51.141:3128",
    "http://134.168.38.32:80",
    "http://139.59.110.186:8080",
    "http://139.59.231.198:3128",
    "http://14.203.99.67:8080",
    "http://142.75.2.14:3128",
    "http://139.5.146.238:80",
    "http://144.48.110.185:8080",
    "http://149.255.154.4:8080",
    "http://139.59.244.147:8080",
    "http://149.56.36.54:80",
    "http://159.255.162.222:53281",
    "http://161.148.148.141:80",
    "http://163.172.220.221:8888",
    "http://165.227.208.24:3128",
    "http://167.249.181.89:3128",
    "http://168.181.161.13:53281",
    "http://170.79.16.19:8080",
    "http://171.97.150.34:8080",
    "http://173.161.162.68:8118",
    "http://176.126.43.206:8080",
    "http://177.125.119.16:8080",
    "http://176.31.174.1:9999",
    "http://177.135.154.123:80",
    "http://177.136.252.7:3128",
    "http://178.60.28.98:9999",
    "http://180.183.142.253:8080",
    "http://178.32.213.128:80",
    "http://180.183.41.187:8080",
    "http://180.183.190.146:8080",
    "http://179.60.127.237:3128",
    "http://180.210.205.107:3128",
    "http://180.210.201.54:3128",
    "http://180.210.205.198:8888",
    "http://180.210.205.199:8888",
    "http://180.211.94.170:8080",
    "http://180.210.201.55:3129",
    "http://180.248.31.3:8080",
    "http://180.250.149.73:8080",
    "http://180.250.8.2:8080",
    "http://180.250.88.165:8080",
    "http://180.250.65.17:8080",
    "http://180.251.40.102:3128",
    "http://180.252.113.7:8080",
    "http://180.254.96.139:8080",
    "http://181.168.145.64:8080",
    "http://181.199.202.248:8080",
    "http://181.49.200.90:8080",
    "http://182.253.114.34:8080",
    "http://182.253.191.114:8080",
    "http://181.193.120.115:3128",
    "http://182.48.66.130:65309",
    "http://182.48.67.254:65309",
    "http://182.52.136.74:8080",
    "http://182.16.175.81:65205",
    "http://183.88.77.38:8080",
    "http://182.253.33.209:8080",
    "http://184.82.128.210:8080",
    "http://185.23.64.100:3130",
    "http://186.193.30.101:3128",
    "http://186.149.243.11:53281",
    "http://186.42.185.114:65103",
    "http://187.44.138.66:3128",
    "http://185.64.220.113:65103",
    "http://187.5.218.25:53281",
    "http://187.87.48.62:8080",
    "http://188.165.194.110:8888",
    "http://188.166.232.174:8080",
    "http://188.166.232.174:3128",
    "http://188.232.225.243:53281",
    "http://187.85.83.2:8080",
    "http://189.90.244.246:8080",
    "http://189.90.96.5:53281",
    "http://188.137.121.13:53281",
    "http://190.1.174.38:53281",
    "http://190.111.233.208:53281",
    "http://187.85.255.61:53281",
    "http://190.147.208.143:8080",
    "http://190.202.15.83:62225",
    "http://190.12.102.205:8080",
    "http://190.60.234.131:3128",
    "http://190.52.175.76:3128",
    "http://190.7.144.202:53281",
    "http://191.102.122.3:65301",
    "http://191.103.253.89:63909",
    "http://192.210.192.31:3128",
    "http://191.54.249.21:8090",
    "http://191.36.199.232:53281",
    "http://192.99.11.135:3128",
    "http://193.13.64.6:3128",
    "http://193.93.228.209:53281",
    "http://195.154.42.249:3128",
    "http://195.178.167.217:3128",
    "http://194.85.37.90:3128",
    "http://197.211.45.4:8080",
    "http://197.254.107.18:53281",
    "http://199.195.253.124:3128",
    "http://201.184.81.178:53281",
    "http://200.75.9.35:3128",
    "http://202.124.205.26:3128",
    "http://202.166.205.83:8080",
    "http://202.138.247.132:8080",
    "http://202.51.229.246:8080",
    "http://202.79.27.50:8080",
    "http://202.73.51.102:80",
    "http://202.73.51.102:8128",
    "http://203.116.44.134:3128",
    "http://203.141.149.145:8080",
    "http://203.146.217.107:8080",
    "http://203.142.72.114:808",
    "http://203.162.13.33:3128",
    "http://203.170.73.229:8085",
    "http://203.189.149.81:65103",
    "http://203.189.141.162:65103",
    "http://203.190.40.52:3128",
    "http://210.186.129.81:8080",
    "http://211.21.120.163:8080",
    "http://210.211.125.14:3128",
    "http://212.200.246.24:80",
    "http://212.47.252.49:3128",
    "http://212.22.86.114:3130",
    "http://213.136.86.15:3128",
    "http://213.154.3.102:3128",
    "http://212.98.159.194:8080",
    "http://213.235.171.118:53281",
    "http://217.182.74.193:8080",
    "http://221.133.44.142:8080",
    "http://222.124.153.226:80",
    "http://222.124.221.179:53281",
    "http://222.255.122.58:3128",
    "http://27.106.33.118:65309",
    "http://27.123.2.18:8080",
    "http://27.123.7.110:8080",
    "http://27.50.49.22:3128",
    "http://27.50.49.24:3128",
    "http://34.226.208.165:80",
    "http://35.196.180.51:3128",
    "http://36.37.90.205:53281",
    "http://35.199.98.82:80",
    "http://35.200.101.150:3128",
    "http://36.66.38.186:8080",
    "http://36.66.236.186:80",
    "http://36.66.171.79:8080",
    "http://36.66.116.177:53281",
    "http://36.67.217.149:8080",
    "http://36.67.111.229:3128",
    "http://36.67.16.209:53281",
    "http://36.67.100.9:62225",
    "http://36.81.92.166:8080",
    "http://36.67.78.53:53281",
    "http://36.83.234.50:8080",
    "http://37.187.119.226:3128",
    "http://37.194.73.22:65103",
    "http://36.67.237.146:8080",
    "http://41.159.141.179:8080",
    "http://41.216.151.106:8080",
    "http://41.73.7.108:8080",
    "http://41.78.25.186:3128",
    "http://45.124.145.34:8080",
    "http://45.32.106.230:3128",
    "http://45.4.92.9:8080",
    "http://45.76.155.210:3128",
    "http://45.55.9.179:80",
    "http://46.105.101.88:3128",
    "http://46.105.145.52:3128",
    "http://47.52.5.8:3128",
    "http://47.90.124.19:3128",
    "http://47.90.81.177:80",
    "http://47.74.145.241:80",
    "http://5.104.176.50:8080",
    "http://47.254.17.64:3128",
    "http://5.53.181.23:53281",
    "http://51.15.86.160:80",
    "http://52.178.197.34:3128",
    "http://52.63.223.158:3128",
    "http://52.77.193.180:8888",
    "http://52.76.193.117:80",
    "http://54.174.79.157:80",
    "http://61.91.235.226:8080",
    "http://62.210.12.7:3128",
    "http://62.64.111.42:53281",
    "http://62.80.182.42:53281",
    "http://64.173.224.142:9991",
    "http://64.150.191.81:3128",
    "http://62.96.10.98:3128",
    "http://74.91.116.251:3128",
    "http://75.1.4.194:3128",
    "http://81.24.82.143:8080",
    "http://81.30.181.181:8080",
    "http://81.43.22.16:3128",
    "http://81.30.223.22:53281",
    "http://82.130.246.64:53281",
    "http://85.142.163.1:3128",
    "http://86.127.180.195:8080",
    "http://87.245.154.66:80",
    "http://89.236.17.106:3128",
    "http://89.238.65.9:3128",
    "http://89.186.3.163:53281",
    "http://91.121.88.53:80",
    "http://91.233.117.104:3128",
    "http://91.73.131.254:8080",
])


def renew_agent(device_type: str) -> Tuple[str, Optional[str]]:
    return random.choice(USER_AGENTS[device_type]), next(PROXIES)
